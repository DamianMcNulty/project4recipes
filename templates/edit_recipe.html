{% extends "layout.html" %}
{% block content %}
<h3>Edit Recipe</h3>
<form class="detail" action="{{ url_for('update_recipe', recipe_id =recipe._id) }}" method="POST" class="form-horizontal border">
    <fieldset>
        <div class="form-group">
            <label class="col-md-4 control-label" for="recipe_name">Name</label>
            <div class="col-md-5">
                <input id="recipe_name" name="recipe_name" type="text" placeholder="Add a recipe name here" class="form-control input-md" value="{{recipe.recipe_name}}">
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="category_name">Categories</label>
            <div class="col-md-5">
                <select id="category_name" name="category_name" class="form-control">
                    <option value="" disabled selected>Choose Category</option>
                    {% for cat in categories2 %}
                        {% if cat.category_name == recipe.category_name %}
                            <option value="{{cat.category_name}}" selected>{{cat.category_name}}</option>
                        {% else %}
                            <option value="{{cat.category_name}}">{{cat.category_name}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="recipe_ingredients">Ingredients</label>
            <div class="col-md-4">
                {% for ingredient in ingredients2 %}
                    <div class="checkbox">
                        <label for="{{ingredient.ingredient_name}}">
                            <input type="checkbox" name="recipe_ingredients" id="{{ingredient.ingredient_name}}" {% for ing in recipe.recipe_ingredients if ingredient.ingredient_name == ing %}checked{% endfor %} value="{{ingredient.ingredient_name}}"> {{ingredient.ingredient_name}}
                        </label>
                    </div>                      
                {% endfor %}
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="recipe_instructions1">Step 1</label>
            <div class="col-md-4">
                <textarea class="form-control" id="recipe_instructions1" name="recipe_instructions1" placeholder="Enter instructions here">{{ recipe.recipe_instructions[0] }}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="recipe_instructions2">Step 2</label>
            <div class="col-md-4">
                <textarea class="form-control" id="recipe_instructions2" name="recipe_instructions2" placeholder="Enter instructions here">{{ recipe.recipe_instructions[1] }}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="recipe_instructions3">Step 3</label>
            <div class="col-md-4">
                <textarea class="form-control" id="recipe_instructions3" name="recipe_instructions3" placeholder="Enter instructions here">{{ recipe.recipe_instructions[2] }}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="likes">Likes</label>
            <div class="col-md-4">
                <textarea class="form-control" id="likes" name="likes" placeholder="0">{{ recipe.likes }}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="action">Add Recipe</label>
            <div class="col-md-4">
                <button id="action" name="action" class="btn btn-success">Add</button>
            </div>
        </div>
    </fieldset>
</form>

{% endblock %}